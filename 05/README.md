# üìù –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ –∫ –∑–∞–Ω—è—Ç–∏—é 5 ¬´–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ roles¬ª

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —à–∞–≥–∏

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã `molecule`, `molecule_docker`, `molecule_podman`.  
- –°–∫–∞—á–∞–Ω –æ–±—Ä–∞–∑ `aragast/netology:latest` —Å –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ podman, tox –∏ Python (3.7, 3.9).  

---

### –û—Å–Ω–æ–≤–Ω–∞—è —á–∞—Å—Ç—å

#### Molecule
1. –í —Ä–æ–ª–∏ **clickhouse-role** –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞:
```
   molecule test -s ubuntu_xenial
```

2. –í –∫–∞—Ç–∞–ª–æ–≥–µ vector-role —Å–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π:
```
molecule init scenario --driver-name docker
```

3. –í molecule.yml –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ä–∞–∑–Ω—ã–µ –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤—ã:
```
oraclelinux:8
ubuntu:latest
```

4. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ —Ä–æ–ª–∏, –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏.

5. –í verify.yml –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏:
–í–∞–ª–∏–¥–Ω–æ—Å—Ç—å –∫–æ–Ω—Ñ–∏–≥–∞ Vector.
–£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞.

6. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–∫–∞–∑–∞–ª —É—Å–ø–µ—à–Ω–æ–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫:

#### Tox

1. –í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é vector-role –¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è tox.
2. –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
```
docker run --privileged=True -v /home/rikolleti/Netology/git-2-ansible/05/vector-role-homework:/opt/vector-role -w /opt/vector-role -it aragast/netology:latest /bin/bash
```
3. –í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞:
```
tox
```
4. –°–æ–∑–¥–∞–Ω –æ–±–ª–µ–≥—á—ë–Ω–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π Molecule —Å –¥—Ä–∞–π–≤–µ—Ä–æ–º molecule_podman
5. –í tox.ini –ø—Ä–æ–ø–∏—Å–∞–Ω –∑–∞–ø—É—Å–∫ –æ–±–ª–µ–≥—á—ë–Ω–Ω–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è
```
posargs:molecule test -s tox --destroy always
```
6. –ó–∞–ø—É—Å–∫ Tox:
